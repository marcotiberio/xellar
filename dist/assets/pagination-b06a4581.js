import{e as D,b as P,c as $,d as H,f as F}from"./swiper-bundle.min-800ce7a7.js";function G({swiper:a,extendParams:S,on:u,emit:y}){const c="swiper-pagination";S({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:l=>l,formatFractionTotal:l=>l,bulletClass:`${c}-bullet`,bulletActiveClass:`${c}-bullet-active`,modifierClass:`${c}-`,currentClass:`${c}-current`,totalClass:`${c}-total`,hiddenClass:`${c}-hidden`,progressbarFillClass:`${c}-progressbar-fill`,progressbarOppositeClass:`${c}-progressbar-opposite`,clickableClass:`${c}-clickable`,lockClass:`${c}-lock`,horizontalClass:`${c}-horizontal`,verticalClass:`${c}-vertical`,paginationDisabledClass:`${c}-disabled`}}),a.pagination={el:null,bullets:[]};let b,m=0;const p=l=>(Array.isArray(l)||(l=[l].filter(t=>!!t)),l);function A(){return!a.params.pagination.el||!a.pagination.el||Array.isArray(a.pagination.el)&&a.pagination.el.length===0}function x(l,t){const{bulletActiveClass:e}=a.params.pagination;l&&(l=l[`${t==="prev"?"previous":"next"}ElementSibling`],l&&(l.classList.add(`${e}-${t}`),l=l[`${t==="prev"?"previous":"next"}ElementSibling`],l&&l.classList.add(`${e}-${t}-${t}`)))}function z(l){if(!l.target.matches($(a.params.pagination.bulletClass)))return;l.preventDefault();const e=P(l.target)*a.params.slidesPerGroup;a.params.loop?a.slideToLoop(e):a.slideTo(e)}function h(){const l=a.rtl,t=a.params.pagination;if(A())return;let e=a.pagination.el;e=p(e);let n;const d=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.slides.length,g=a.params.loop?Math.ceil(d/a.params.slidesPerGroup):a.snapGrid.length;if(a.params.loop?n=a.params.slidesPerGroup>1?Math.floor(a.realIndex/a.params.slidesPerGroup):a.realIndex:typeof a.snapIndex<"u"?n=a.snapIndex:n=a.activeIndex||0,t.type==="bullets"&&a.pagination.bullets&&a.pagination.bullets.length>0){const s=a.pagination.bullets;let f,o,v;if(t.dynamicBullets&&(b=D(s[0],a.isHorizontal()?"width":"height",!0),e.forEach(i=>{i.style[a.isHorizontal()?"width":"height"]=`${b*(t.dynamicMainBullets+4)}px`}),t.dynamicMainBullets>1&&a.previousIndex!==void 0&&(m+=n-(a.previousIndex||0),m>t.dynamicMainBullets-1?m=t.dynamicMainBullets-1:m<0&&(m=0)),f=Math.max(n-m,0),o=f+(Math.min(s.length,t.dynamicMainBullets)-1),v=(o+f)/2),s.forEach(i=>{i.classList.remove(...["","-next","-next-next","-prev","-prev-prev","-main"].map(r=>`${t.bulletActiveClass}${r}`))}),e.length>1)s.forEach(i=>{const r=P(i);r===n&&i.classList.add(t.bulletActiveClass),t.dynamicBullets&&(r>=f&&r<=o&&i.classList.add(`${t.bulletActiveClass}-main`),r===f&&x(i,"prev"),r===o&&x(i,"next"))});else{const i=s[n];if(i&&i.classList.add(t.bulletActiveClass),t.dynamicBullets){const r=s[f],C=s[o];for(let L=f;L<=o;L+=1)s[L].classList.add(`${t.bulletActiveClass}-main`);x(r,"prev"),x(C,"next")}}if(t.dynamicBullets){const i=Math.min(s.length,t.dynamicMainBullets+4),r=(b*i-b)/2-v*b,C=l?"right":"left";s.forEach(L=>{L.style[a.isHorizontal()?C:"top"]=`${r}px`})}}e.forEach((s,f)=>{if(t.type==="fraction"&&(s.querySelectorAll($(t.currentClass)).forEach(o=>{o.textContent=t.formatFractionCurrent(n+1)}),s.querySelectorAll($(t.totalClass)).forEach(o=>{o.textContent=t.formatFractionTotal(g)})),t.type==="progressbar"){let o;t.progressbarOpposite?o=a.isHorizontal()?"vertical":"horizontal":o=a.isHorizontal()?"horizontal":"vertical";const v=(n+1)/g;let i=1,r=1;o==="horizontal"?i=v:r=v,s.querySelectorAll($(t.progressbarFillClass)).forEach(C=>{C.style.transform=`translate3d(0,0,0) scaleX(${i}) scaleY(${r})`,C.style.transitionDuration=`${a.params.speed}ms`})}t.type==="custom"&&t.renderCustom?(s.innerHTML=t.renderCustom(a,n+1,g),f===0&&y("paginationRender",s)):(f===0&&y("paginationRender",s),y("paginationUpdate",s)),a.params.watchOverflow&&a.enabled&&s.classList[a.isLocked?"add":"remove"](t.lockClass)})}function B(){const l=a.params.pagination;if(A())return;const t=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.slides.length;let e=a.pagination.el;e=p(e);let n="";if(l.type==="bullets"){let d=a.params.loop?Math.ceil(t/a.params.slidesPerGroup):a.snapGrid.length;a.params.freeMode&&a.params.freeMode.enabled&&d>t&&(d=t);for(let g=0;g<d;g+=1)l.renderBullet?n+=l.renderBullet.call(a,g,l.bulletClass):n+=`<${l.bulletElement} class="${l.bulletClass}"></${l.bulletElement}>`}l.type==="fraction"&&(l.renderFraction?n=l.renderFraction.call(a,l.currentClass,l.totalClass):n=`<span class="${l.currentClass}"></span> / <span class="${l.totalClass}"></span>`),l.type==="progressbar"&&(l.renderProgressbar?n=l.renderProgressbar.call(a,l.progressbarFillClass):n=`<span class="${l.progressbarFillClass}"></span>`),e.forEach(d=>{l.type!=="custom"&&(d.innerHTML=n||""),l.type==="bullets"&&(a.pagination.bullets=[...d.querySelectorAll($(l.bulletClass))])}),l.type!=="custom"&&y("paginationRender",e[0])}function k(){a.params.pagination=H(a,a.originalParams.pagination,a.params.pagination,{el:"swiper-pagination"});const l=a.params.pagination;if(!l.el)return;let t;typeof l.el=="string"&&a.isElement&&(t=a.el.shadowRoot.querySelector(l.el)),!t&&typeof l.el=="string"&&(t=[...document.querySelectorAll(l.el)]),t||(t=l.el),!(!t||t.length===0)&&(a.params.uniqueNavElements&&typeof l.el=="string"&&Array.isArray(t)&&t.length>1&&(t=[...a.el.querySelectorAll(l.el)],t.length>1&&(t=t.filter(e=>F(e,".swiper")[0]===a.el)[0])),Array.isArray(t)&&t.length===1&&(t=t[0]),Object.assign(a.pagination,{el:t}),t=p(t),t.forEach(e=>{l.type==="bullets"&&l.clickable&&e.classList.add(l.clickableClass),e.classList.add(l.modifierClass+l.type),e.classList.add(a.isHorizontal()?l.horizontalClass:l.verticalClass),l.type==="bullets"&&l.dynamicBullets&&(e.classList.add(`${l.modifierClass}${l.type}-dynamic`),m=0,l.dynamicMainBullets<1&&(l.dynamicMainBullets=1)),l.type==="progressbar"&&l.progressbarOpposite&&e.classList.add(l.progressbarOppositeClass),l.clickable&&e.addEventListener("click",z),a.enabled||e.classList.add(l.lockClass)}))}function M(){const l=a.params.pagination;if(A())return;let t=a.pagination.el;t&&(t=p(t),t.forEach(e=>{e.classList.remove(l.hiddenClass),e.classList.remove(l.modifierClass+l.type),e.classList.remove(a.isHorizontal()?l.horizontalClass:l.verticalClass),l.clickable&&e.removeEventListener("click",z)})),a.pagination.bullets&&a.pagination.bullets.forEach(e=>e.classList.remove(l.bulletActiveClass))}u("init",()=>{a.params.pagination.enabled===!1?I():(k(),B(),h())}),u("activeIndexChange",()=>{typeof a.snapIndex>"u"&&h()}),u("snapIndexChange",()=>{h()}),u("snapGridLengthChange",()=>{B(),h()}),u("destroy",()=>{M()}),u("enable disable",()=>{let{el:l}=a.pagination;l&&(l=p(l),l.forEach(t=>t.classList[a.enabled?"remove":"add"](a.params.pagination.lockClass)))}),u("lock unlock",()=>{h()}),u("click",(l,t)=>{const e=t.target;let{el:n}=a.pagination;if(Array.isArray(n)||(n=[n].filter(d=>!!d)),a.params.pagination.el&&a.params.pagination.hideOnClick&&n&&n.length>0&&!e.classList.contains(a.params.pagination.bulletClass)){if(a.navigation&&(a.navigation.nextEl&&e===a.navigation.nextEl||a.navigation.prevEl&&e===a.navigation.prevEl))return;const d=n[0].classList.contains(a.params.pagination.hiddenClass);y(d===!0?"paginationShow":"paginationHide"),n.forEach(g=>g.classList.toggle(a.params.pagination.hiddenClass))}});const O=()=>{a.el.classList.remove(a.params.pagination.paginationDisabledClass);let{el:l}=a.pagination;l&&(l=p(l),l.forEach(t=>t.classList.remove(a.params.pagination.paginationDisabledClass))),k(),B(),h()},I=()=>{a.el.classList.add(a.params.pagination.paginationDisabledClass);let{el:l}=a.pagination;l&&(l=p(l),l.forEach(t=>t.classList.add(a.params.pagination.paginationDisabledClass))),M()};Object.assign(a.pagination,{enable:O,disable:I,render:B,update:h,init:k,destroy:M})}export{G as P};
