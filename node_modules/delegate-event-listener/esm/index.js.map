{"version":3,"file":"index.js","sources":["../node_modules/dom-matches/index.js","../node_modules/dom-closest/index.js","../index.js"],"sourcesContent":["'use strict';\n\n/**\n * Determine if a DOM element matches a CSS selector\n *\n * @param {Element} elem\n * @param {String} selector\n * @return {Boolean}\n * @api public\n */\n\nfunction matches(elem, selector) {\n  // Vendor-specific implementations of `Element.prototype.matches()`.\n  var proto = window.Element.prototype;\n  var nativeMatches = proto.matches ||\n      proto.mozMatchesSelector ||\n      proto.msMatchesSelector ||\n      proto.oMatchesSelector ||\n      proto.webkitMatchesSelector;\n\n  if (!elem || elem.nodeType !== 1) {\n    return false;\n  }\n\n  var parentElem = elem.parentNode;\n\n  // use native 'matches'\n  if (nativeMatches) {\n    return nativeMatches.call(elem, selector);\n  }\n\n  // native support for `matches` is missing and a fallback is required\n  var nodes = parentElem.querySelectorAll(selector);\n  var len = nodes.length;\n\n  for (var i = 0; i < len; i++) {\n    if (nodes[i] === elem) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n/**\n * Expose `matches`\n */\n\nmodule.exports = matches;\n","/**\n * Module dependencies\n */\n\nvar matches = require('dom-matches');\n\n/**\n * @param element {Element}\n * @param selector {String}\n * @param context {Element}\n * @return {Element}\n */\nmodule.exports = function (element, selector, context) {\n  context = context || document;\n  // guard against orphans\n  element = { parentNode: element };\n\n  while ((element = element.parentNode) && element !== context) {\n    if (matches(element, selector)) {\n      return element;\n    }\n  }\n};\n","import closest from 'dom-closest';\n\nconst disabledElementsSelector = [\n\t'input',\n\t'textarea',\n\t'button',\n\t'select',\n\t'form'\n]\n\t.map((element) => `${element}[disabled]`)\n\t.join(',');\n\nconst eventNameMap = {\n\tfocus: 'focusin',\n\tblur: 'focusout',\n\tmouseenter: 'mouseover',\n\tmouseleave: 'mouseout',\n\tpointerenter: 'pointerover',\n\tpointerleave: 'pointerout'\n};\n\nexport default (...arguments_) => {\n\tconst handleEventName = arguments_.length === 3;\n\n\tif (!handleEventName) {\n\t\targuments_.unshift(null);\n\t}\n\n\tconst [eventName, selector, listener] = arguments_;\n\n\tconst wrappedListener = (e) => {\n\t\tif (selector === '') {\n\t\t\te.delegateTarget = e.target;\n\t\t\tif (handleEventName) {\n\t\t\t\te.originalEventType = eventName;\n\t\t\t}\n\t\t\tlistener(e);\n\t\t\treturn;\n\t\t}\n\n\t\tconst disabledAncestor = closest(e.target, disabledElementsSelector);\n\t\tconst closestNode = closest(e.target, selector);\n\t\tconst isDelegated =\n\t\t\t!e.currentTarget.contains(disabledAncestor) &&\n\t\t\te.currentTarget.contains(closestNode) &&\n\t\t\te.currentTarget !== e.target;\n\t\tif (isDelegated) {\n\t\t\te.delegateTarget = closestNode;\n\t\t\tif (handleEventName) {\n\t\t\t\te.originalEventType = eventName;\n\t\t\t}\n\t\t\tif (\n\t\t\t\thandleEventName &&\n\t\t\t\ttypeof eventNameMap[eventName] !== 'undefined' &&\n\t\t\t\teventName !== 'focus' &&\n\t\t\t\teventName !== 'blur'\n\t\t\t) {\n\t\t\t\tconst delegateTarget = e.delegateTarget;\n\t\t\t\tconst relatedTarget = e.relatedTarget;\n\t\t\t\tif (!relatedTarget || !delegateTarget.contains(relatedTarget)) {\n\t\t\t\t\tlistener(e);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlistener(e);\n\t\t\t}\n\t\t}\n\t};\n\n\tif (handleEventName) {\n\t\treturn [eventNameMap[eventName] ?? eventName, wrappedListener];\n\t}\n\treturn wrappedListener;\n};\n"],"names":["matches","disabledElementsSelector","map","element","join","eventNameMap","focus","blur","mouseenter","mouseleave","pointerenter","pointerleave","arguments_","handleEventName","length","unshift","eventName","selector","listener","wrappedListener","e","delegateTarget","target","originalEventType","disabledAncestor","closest","closestNode","isDelegated","currentTarget","contains","relatedTarget"],"mappings":"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"}