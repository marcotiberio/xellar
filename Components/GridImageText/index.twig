<flynt-component load:on="visible" name="GridImageText">
  <div class="wrapper max-w-screen-xl mx-auto p-sm sm:p-md md:p-lg">
    {% if headlineTitle %}
      <h2 class="max-w-screen-md mx-auto flex justify-center items-center text-center text-yellow uppercase">{{ headlineTitle }}</h2>
    {% endif %}
    <div 
      class="w-full max-w-screen-lg mx-auto mt-xl grid gap-sm"
       {{ options.gridColumns ? 'data-grid-columns="' ~ options.gridColumns ~ '"' }}>
      {% for item in items %}
        {% if item.image or item.title or item.contentHtml or item.title  %}
          <div class="">
            {% if item.image %}
              <figure class="figure mb-sm">
                <img class="lazyload w-full object-cover aspect-4/3"
                  src="{{ item.image.src | resize(32) }}"
                  data-srcset="{{function('wp_get_attachment_image_srcset', item.image.id)}}"
                  data-sizes="auto"
                  alt="{{ item.image.alt|e }}">
              </figure>
            {% endif %}
            <div class="flex flex-col pr-sm">
              {% if item.title %}
                <div class="font-h3">{{ item.title }}</div>
              {% endif %}
              {% if item.contentHtml %}
                <div class="pt-sm border-t">{{ item.contentHtml|e('wp_kses_post') }}</div>
              {% endif %}
            </div>
            {% if item.buttonLink %}
              <a class="button button--yellow mt-lg" href="{{ item.buttonLink .url }}"{% if item.buttonLink.target %} target="{{ item.buttonLink.target }}" rel="noreferrer noopener"{% endif %}>
                {{ item.buttonLink.title|e }}
              </a>
            {% endif %}
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</flynt-component>
